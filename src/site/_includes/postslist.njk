{#
You Are Here:
- Posts List
- src/site/_includes/postslist.njk

How It Works:
- On build, this is placed on every page with `{% include "postslist.njk" %}`
- It uses conditions to show Blog data vs Video data

Dynamic Data:
- anything in {{ curly braces }} is a variable from frontmatter in a
  markdown file from src/site/blog or src/site/highlights
- aliases are defined in `{% set %}`
#}

{% for post in postslist %}

  {% set title = post.data.title %}
  {% set featuredImage = post.data.image_card %}
  {% set featuredImageAlt = 'Video clip thumbnail' or post.data.image_caption %}
  {% set postCredit = post.data.clipper or site.author_name %}
  {% set publishDate = post.data.date %}

    <article class="post mb-8 mx-4 bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg md:1/2 lg:w-1/3">
      <a href="{{ post.url }}">
      {% if featuredImage %}
      <figure class="relative">
        <img src="{{ featuredImage }}" alt="{{ featuredImageAlt }}" class="block rounded-t-lg">
      </figure>
      {% endif %}
      <div class="block text-{{ site.colors.main }}-800 no-underline p-8" href="{{ post.url }}">
        <h2 class="text-3xl text-{{ site.colors.main }}-800 mt-0 mb-3">{{ title }}</h2>
        <p class="text-sm text-gray-600 mb-0">By {{ postCredit }}, <time datetime="{{ publishDate }}" class="mb-0">{{ publishDate | readableDate }}</time></p>
        <p class="text-sm text-gray-600">
          <svg class="inline" role="img" aria-hidden="true" width="14" height="12">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/icons/icon-library.svg#icon-tag"></use>
          </svg>
          {% for tag in post.data.tags %}
            {%- if tag != "post" -%}
              <span class="text-gray-600 text-xs mr-3">{{ tag }}</span>
            {%- endif -%}
          {% endfor %}
        </p>
      </div>
    </a>
    </article>

{% endfor %}
