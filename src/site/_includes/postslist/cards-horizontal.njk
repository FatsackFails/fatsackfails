{#
You Are Here:
- Posts List
- src/site/_includes/postsList/cards-horizontal.njk

How It Works:
- On build, this is placed on every page with `{% include template %}`
- It uses conditions to show Blog data vs Video data
- This template can be selected for Archive, Blog, and Highlights

Dynamic Data:
- anything in {{ curly braces }} is a variable from frontmatter in a
  markdown file from src/site/blog or src/site/highlights
- aliases are defined in `{% set %}`
#}

{# List Cards #}
{% for post in postsList %}

  {% set title = post.data.title %}
  {% set featuredImage = post.data.image_card %}
  {% set featuredImageAlt = 'Video clip thumbnail' or post.data.image_caption %}
  {% set postCredit = post.data.clipper or site.author_name %}
  {% set publishDate = post.data.date %}

    <article class="post mb-6 md:mx-3 bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg w-full md:w-45">
      <a href="{{ post.url }}" class="flex flex-row h-full">
        {% if featuredImage %}
        <figure class="relative overflow-hidden w-1/4">
          <img src="{{ featuredImage }}" alt="{{ featuredImageAlt }}" class="block object-cover absolute top-1/2 left-1/2 h-full transform-center">
        </figure>
        {% endif %}
        <div class="block text-{{ site.colors.main }}-800 dark:text-{{ site.colors.main }}-100 dark:bg-{{ site.colors.main }}-800 no-underline p-6 {% if featuredImage %} w-3/4 {% else %} w-full {% endif %}">
          <h2 class="text-xl md:text-2xl mt-0 mb-3">{{ title }}</h2>
          <p class="text-xs mb-1">By {{ postCredit }}, <time datetime="{{ publishDate }}" class="mb-0">{{ publishDate | readableDate }}</time></p>
          <p class="text-xs">
            <svg class="inline" role="img" aria-hidden="true" width="14" height="12">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/icons/icon-library.svg#icon-tag"></use>
            </svg>
            {% for tag in post.data.tags %}
              {%- if tag != "post" -%}
                <span class="text-xs mr-3">{{ tag }}</span>
              {%- endif -%}
            {% endfor %}
          </p>
        </div>
      </a>
    </article>

{% endfor %}
